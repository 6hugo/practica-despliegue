<div class="admin-container">
  <div class="container">
    <h1 class="admin-title text-center">Control Panel</h1>

    <div *ngIf="loading" class="text-center py-5">
      <div class="spinner-border text-light" style="width: 3rem; height: 3rem;"></div>
      <p class="text-white mt-3">Searching for citizens...</p>
    </div>

    <div class="row" *ngIf="!loading">
      <div class="col-md-6 col-lg-4" *ngFor="let user of users">
        <div class="user-card" [style.opacity]="isDeleting(user.id) ? '0.5' : '1'">
          <div class="user-info">
            <h3>{{ user.id === currentAdminId ? 'â­ ' : 'ğŸ‘¤ ' }}{{ user.username }}</h3>
            <p>ğŸ“§ {{ user.email }}</p>
          </div>
          <hr>
          <div class="text-end">
            <button *ngIf="user.id !== currentAdminId" 
                    class="btn-delete" 
                    [disabled]="isDeleting(user.id)"
                    (click)="deleteUser(user.id)">
              {{ isDeleting(user.id) ? 'DELETING...' : 'DELETE' }}
            </button>
            
            <span *ngIf="user.id === currentAdminId" class="badge bg-primary p-2">
              YOU (Protected)
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>